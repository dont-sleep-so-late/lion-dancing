"use strict";const e=require("../../common/vendor.js");exports.useScrollTransparentNavbar=t=>{const{getSelectorNodeInfo:r}=e.useSelectorQuery(t),o=e.ref(0),n=`tse-${e.generateId()}`;let a=100;const c=e.ref(0);let i=0;const l=async()=>{try{const e=await r(`#${n}`);if(!e.top)throw new Error("获取触发元素容器信息top信息失败");i=0,c.value=e.top}catch(e){if(i>10)return void(i=0);i++,setTimeout((()=>{l()}),150)}};return{navbarOpacity:o,triggerElementId:n,triggerTop:c,init:()=>{e.nextTick$1((()=>{l()}))},updateTargetTriggerValue:e=>{a=e},opacityScrollHandle:e=>{if(!c.value)return;const t=c.value-a;let r=e/t;r>1.5||(r<.1&&(r=0),e>t&&(r=1),o.value=r)}}};
