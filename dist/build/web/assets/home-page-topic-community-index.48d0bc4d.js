import{b as e,d as t,ak as a,c as l,ac as s,s as o,u as i,v as c,B as n,z as r,x as u,G as m,M as d,A as g,C as v,D as p,K as f,y as k,N as y,H as C,_ as h,a as _,t as b,r as w,af as S,I as j,J as x,E as I,F as H,T as A,m as U,ad as B,ae as L,O as T}from"./index-a52e8601.js";import{T as M}from"./lazy-load.a6cbdf88.js";import{i as N}from"./is-number.699c11c1.js";import{T as $}from"./avatar.4d11a374.js";import{T as E}from"./avatar-group.cc346f5d.js";import{g as F,b as V,c as z}from"./local-mock.93a8ae37.js";import{u as D}from"./index.6b27d097.js";import"./index.a9b2a551.js";import"./badge.89bce1ba.js";import"./index.fb901fb3.js";const O=e({data:{type:t(Array),default:()=>[]},max:{type:Number,default:9},column:{type:Number,default:3},imgMode:{type:String,values:a,default:"aspectFill"},lazyLoad:{type:Boolean,default:!0},preview:{type:Boolean,default:!0}}),q=h(o({__name:"photo-album",props:O,emits:{click:e=>N(e)},setup(e,{emit:t}){const a=e,o=i("photo-album"),{imageData:h,imageClickEvent:_}=((e,t)=>{const a=l((()=>{const t=Math.min(e.data.length,e.max);return e.data.slice(0,t)}));return{imageData:a,imageClickEvent:l=>{t("click",l),e.preview&&s({urls:a.value,current:l})}}})(a,t),b=l((()=>{const e={};let t=`calc(100% / ${a.column} - 20rpx)`;return e.width=e.paddingBottom=t,e}));return(e,t)=>{const l=y,s=C;return c(),n(s,{class:v([g(o).b()])},{default:r((()=>[(c(!0),u(m,null,d(g(h),((t,i)=>(c(),n(s,{key:i,class:v([g(o).e("container")]),style:p(g(b)),onClick:f((e=>g(_)(i)),["stop"])},{default:r((()=>[k(s,{class:v(g(o).e("item"))},{default:r((()=>[e.lazyLoad?(c(),n(M,{key:0,src:t,mode:a.imgMode},null,8,["src","mode"])):(c(),n(l,{key:1,class:v(g(o).e("item__image")),src:t,mode:a.imgMode},null,8,["class","src","mode"]))])),_:2},1032,["class"])])),_:2},1032,["class","style","onClick"])))),128))])),_:1},8,["class"])}}}),[["__scopeId","data-v-d79d4130"]]),R=e({avatar:{type:String,required:!0},title:{type:String,required:!0},description:{type:String,required:!0},tags:{type:t(Array),default:()=>[]},tagBgColor:String,tagTextColor:String,content:String,images:{type:t(Array),default:()=>[]},showMore:{type:Boolean,default:!0},showHot:{type:Boolean,default:!0},activeHot:Boolean,hotCount:{type:Number,default:0},hotIcon:{type:String,default:"rocket"},activeHotIcon:{type:String,default:"rocket-fill"},hotColor:String,activeHotColor:String,showComment:{type:Boolean,default:!0},activeComment:Boolean,commentCount:{type:Number,default:0},commentIcon:{type:String,default:"message"},activeCommentIcon:{type:String,default:"message-fill"},commentColor:String,activeCommentColor:String,showLike:{type:Boolean,default:!0},activeLike:Boolean,likeCount:{type:Number,default:0},likeIcon:{type:String,default:"like-lack"},activeLikeIcon:{type:String,default:"like-fill"},likeColor:String,activeLikeColor:String,showViewUser:{type:Boolean,default:!0},viewCount:{type:Number,default:0},viewUserAvatars:{type:t(Array),default:()=>[]},maxViewUserAvatarCount:{type:Number,default:4}}),G=h(o({__name:"index",props:R,emits:{click:()=>!0,"avatar-view-click":()=>!0,"more-click":()=>!0,"hot-click":()=>!0,"comment-click":()=>!0,"like-click":()=>!0},setup(e,{emit:t}){const a=e,{viewUserAvatars:o,viewUserCount:h,imageCount:U,previewImageHandle:B,cardClickEvent:L,handleAvatarClick:T,handleMoreClick:N,handleCommentClick:F,handleHotClick:V,handleLikeClick:z}=((e,t)=>{const a=w([]),o=w(0);return e.showViewUser&&(a.value=e.viewUserAvatars.slice(0,e.maxViewUserAvatarCount),o.value=e.viewUserAvatars.length),{viewUserAvatars:a,viewUserCount:o,imageCount:l((()=>{var t;return S(null==(t=null==e?void 0:e.images)?void 0:t.length,0)})),previewImageHandle:t=>{s({urls:e.images,current:t})},cardClickEvent:()=>{t("click")},handleAvatarClick:()=>{t("avatar-view-click")},handleMoreClick:()=>{t("more-click")},handleHotClick:()=>{t("hot-click")},handleCommentClick:()=>{t("comment-click")},handleLikeClick:()=>{t("like-click")}}})(a,t),{ns:D,tagClass:O,tagStyle:R,hotClass:G,hotStyle:J,commentClass:K,commentStyle:P,likeClass:Q,likeStyle:W}=(e=>{const t=i("graphic-card"),[a,s]=_(b(e,"tagBgColor"),"bg"),[o,c]=_(b(e,"tagTextColor"),"text"),[n,r]=_(b(e,"hotColor"),"text"),[u,m]=_(b(e,"activeHotColor"),"text"),[d,g]=_(b(e,"commentColor"),"text"),[v,p]=_(b(e,"activeCommentColor"),"text"),[f,k]=_(b(e,"likeColor"),"text"),[y,C]=_(b(e,"activeLikeColor"),"text"),h=l((()=>{const e=[];return a.value&&e.push(a.value),o.value&&e.push(o.value),e.join(" ")})),w=l((()=>{const e={};return a.value||(e.backgroundColor=s.value||"var(--tn-color-gray-disabled)"),c.value?e.color=c.value:o.value||a.value||(e.color="var(--tn-text-color-primary)"),e})),S=l((()=>{const a=[t.e("hot")];return e.activeHot?u.value&&a.push(u.value):n.value&&a.push(n.value),a.join(" ")})),j=l((()=>{const t={};return e.activeHot?u.value||(t.color=m.value||"var(--tn-color-primary)"):n.value||(t.color=r.value||"var(--tn-color-gray)"),t})),x=l((()=>{const a=[t.e("comment")];return e.activeComment?v.value&&a.push(v.value):d.value&&a.push(d.value),a.join(" ")})),I=l((()=>{const t={};return e.activeComment?v.value||(t.color=p.value||"var(--tn-color-primary)"):d.value||(t.color=g.value||"var(--tn-color-gray)"),t})),H=l((()=>{const a=[t.e("like")];return e.activeLike?y.value&&a.push(y.value):f.value&&a.push(f.value),a.join(" ")})),A=l((()=>{const t={};return e.activeLike?y.value||(t.color=C.value||"var(--tn-color-red)"):f.value||(t.color=k.value||"var(--tn-color-gray)"),t}));return{ns:t,tagClass:h,tagStyle:w,hotClass:S,hotStyle:j,commentClass:x,commentStyle:I,likeClass:H,likeStyle:A}})(a);return(e,t)=>{const a=y,l=C;return c(),n(l,{class:v([g(D).b()]),onClick:g(L)},{default:r((()=>[k(l,{class:v([g(D).e("brief-info")])},{default:r((()=>[k(l,{class:v([g(D).e("brief-info__content")])},{default:r((()=>[k(l,{class:v([g(D).e("brief-info__avatar")]),onClick:f(g(T),["stop"])},{default:r((()=>[k(a,{class:"image",src:e.avatar,mode:"aspectFill"},null,8,["src"])])),_:1},8,["class","onClick"]),k(l,{class:v([g(D).e("brief-info__data")])},{default:r((()=>[k(l,{class:"title tn-text-ellipsis-1"},{default:r((()=>[j(x(e.title),1)])),_:1}),e.description?(c(),n(l,{key:0,class:"desc tn-text-ellipsis-1"},{default:r((()=>[j(x(e.description),1)])),_:1})):I("",!0)])),_:1},8,["class"])])),_:1},8,["class"]),e.showMore?(c(),n(l,{key:0,class:v([g(D).e("brief-info__operation")])},{default:r((()=>[H(e.$slots,"briefOperation",{},(()=>[k(l,{class:v([g(D).em("brief-info__operation","more")]),onClick:f(g(N),["stop"])},{default:r((()=>[k(A,{name:"more-vertical"})])),_:1},8,["class","onClick"])]),!0)])),_:3},8,["class"])):I("",!0)])),_:3},8,["class"]),k(l,{class:v([g(D).e("container")])},{default:r((()=>[k(l,{class:v([g(D).e("content")])},{default:r((()=>[k(l,{class:v([g(D).e("content__tags")])},{default:r((()=>[(c(!0),u(m,null,d(e.tags,((e,t)=>(c(),n(l,{key:t,class:v(["tag-item",[g(O)]]),style:p(g(R))},{default:r((()=>[k(A,{name:"topics-fill"}),j(" "+x(e),1)])),_:2},1032,["class","style"])))),128))])),_:1},8,["class"]),k(l,{class:v([g(D).e("content__data")])},{default:r((()=>[j(x(e.content),1)])),_:1},8,["class"])])),_:1},8,["class"]),g(U)?(c(),n(l,{key:0,class:v([g(D).e("images")])},{default:r((()=>[1===g(U)?(c(),n(l,{key:0,class:v([g(D).em("images","item"),g(D).is("one")]),onClick:t[0]||(t[0]=f((e=>g(B)(0)),["stop"]))},{default:r((()=>[k(M,{src:e.images[0]},null,8,["src"])])),_:1},8,["class"])):I("",!0),2===g(U)?(c(),n(l,{key:1,class:v([g(D).em("images","item"),g(D).is("two")])},{default:r((()=>[k(q,{data:e.images,column:2},null,8,["data"])])),_:1},8,["class"])):I("",!0),3===g(U)?(c(),n(l,{key:2,class:v([g(D).em("images","item"),g(D).is("three")])},{default:r((()=>[k(l,{class:"image-wrapper-left"},{default:r((()=>[k(l,{class:"image-container",onClick:t[1]||(t[1]=f((e=>g(B)(0)),["stop"]))},{default:r((()=>[k(M,{src:e.images[0]},null,8,["src"])])),_:1})])),_:1}),k(l,{class:"image-wrapper-right"},{default:r((()=>[k(l,{class:"image-container",onClick:t[2]||(t[2]=f((e=>g(B)(1)),["stop"]))},{default:r((()=>[k(M,{src:e.images[1]},null,8,["src"])])),_:1}),k(l,{class:"image-container",onClick:t[3]||(t[3]=f((e=>g(B)(2)),["stop"]))},{default:r((()=>[k(M,{src:e.images[2]},null,8,["src"])])),_:1})])),_:1})])),_:1},8,["class"])):I("",!0),4===g(U)?(c(),n(l,{key:3,class:v([g(D).em("images","item"),g(D).is("four")])},{default:r((()=>[k(q,{data:e.images,column:2},null,8,["data"])])),_:1},8,["class"])):I("",!0),g(U)>=5?(c(),n(q,{key:4,data:e.images},null,8,["data"])):I("",!0)])),_:1},8,["class"])):I("",!0)])),_:1},8,["class"]),k(l,{class:v([g(D).e("bottom-info"),g(D).is("no-content",!!e.$slots.bottomRight)])},{default:r((()=>[k(l,{class:v([g(D).e("bottom-info__left")])},{default:r((()=>[e.showHot?(c(),n(l,{key:0,class:v(["count-item-data",[g(G)]]),style:p(g(J)),onClick:f(g(V),["stop"])},{default:r((()=>[k(A,{name:e.activeHot?e.activeHotIcon:e.hotIcon},null,8,["name"]),k(l,{class:"count"},{default:r((()=>[j(x(e.hotCount),1)])),_:1})])),_:1},8,["class","style","onClick"])):I("",!0),e.showComment?(c(),n(l,{key:1,class:v(["count-item-data",[g(K)]]),style:p(g(P)),onClick:f(g(F),["stop"])},{default:r((()=>[k(A,{name:e.activeComment?e.activeCommentIcon:e.commentIcon},null,8,["name"]),k(l,{class:"count"},{default:r((()=>[j(x(e.commentCount),1)])),_:1})])),_:1},8,["class","style","onClick"])):I("",!0),e.showLike?(c(),n(l,{key:2,class:v(["count-item-data",[g(Q)]]),style:p(g(W)),onClick:f(g(z),["stop"])},{default:r((()=>[k(A,{name:e.activeLike?e.activeLikeIcon:e.likeIcon},null,8,["name"]),k(l,{class:"count"},{default:r((()=>[j(x(e.likeCount),1)])),_:1})])),_:1},8,["class","style","onClick"])):I("",!0)])),_:1},8,["class"]),e.showViewUser&&g(o).length||e.$slots.bottomRight?(c(),n(l,{key:0,class:v([g(D).e("bottom-info__right")])},{default:r((()=>[H(e.$slots,"bottomRight",{},(()=>[k(l,{class:v([g(D).e("view-user-list")])},{default:r((()=>[k(E,{border:"",size:"sm"},{default:r((()=>[(c(!0),u(m,null,d(g(o),((e,t)=>(c(),n($,{key:t,url:e},null,8,["url"])))),128))])),_:1})])),_:1},8,["class"]),k(l,{class:v([g(D).e("view-user-count")])},{default:r((()=>[j(x(void 0!==e.viewCount?e.viewCount:g(h))+"人 ",1)])),_:1},8,["class"])]),!0)])),_:3},8,["class"])):I("",!0)])),_:3},8,["class"])])),_:3},8,["class","onClick"])}}}),[["__scopeId","data-v-f36752ab"]]),J=h(o({__name:"index",setup(e){const{triggerElementId:t,navbarOpacity:a,communitySummary:l,topicsData:s,initTransparentScroll:o,navbarInitFinishHandle:i,opacityScrollHandle:v}=(()=>{const e=U(),t=w({title:"新闻中心",desc:"来自一线记者的细心采访，在这里发现文化传承",image:"https://resource.tuniaokj.com/images/logo/logo.jpg"}),a=w([]),{triggerElementId:l,navbarOpacity:s,init:o,updateTargetTriggerValue:i,opacityScrollHandle:c}=D(e);return(()=>{for(let e=0;e<20;e++){const t=Array.from({length:F(1,6)}).map((()=>V()));a.value.push({id:`${e}`,title:`舞狮文化传承调研队丨助力醒狮传承，广海学子在路上-${e}`,desc:"中华舞狮有南北之分，而南狮因追求“神似”又被称为“醒狮”。岭南醒狮文化作为国家级非物质文化遗产，凝聚岭南历史的精魂，对其传承就是对岭南文化继承、传播和创新的过程。",createTime:"news",author:{id:`${e}`,nickname:z(),avatar:V("xiong")},tags:["开源","创意","UI框架"].slice(0,F(1,3)),images:["https://resource.tuniaokj.com/images/blogger/content_1.jpeg","https://resource.tuniaokj.com/images/blogger/onepiece-1.jpg","https://resource.tuniaokj.com/images/blogger/onepiece-2.jpg","https://resource.tuniaokj.com/images/blogger/onepiece-3.jpg","https://resource.tuniaokj.com/images/blogger/onepiece-1.jpg","https://resource.tuniaokj.com/images/blogger/onepiece-2.jpg","https://resource.tuniaokj.com/images/blogger/onepiece-3.jpg"].slice(0,F(1,7)),hotCount:F(1,1e3),replyCount:F(1,1e3),likeCount:F(1,1e3),viewCount:F(1,1e3),viewUsersAvatar:t})}})(),{triggerElementId:l,navbarOpacity:s,communitySummary:t,topicsData:a,initTransparentScroll:o,opacityScrollHandle:c,navbarInitFinishHandle:e=>{i(e.height)}}})();return B((()=>{o()})),L((e=>{v(e.scrollTop)})),(e,o)=>{const v=T("TnNavbar"),p=C,f=y;return c(),u(m,null,[k(v,{fixed:"","home-icon":"discover-fill","bg-color":`rgba(255, 255, 255, ${g(a)})`,"bottom-shadow":!1,placeholder:!1,onInitFinish:g(i)},null,8,["bg-color","onInitFinish"]),k(p,{class:"community-summary"},{default:r((()=>[k(p,{class:"summary-content"},{default:r((()=>[k(p,{class:"summary-info"},{default:r((()=>[k(p,{class:"title"},{default:r((()=>[j(x(g(l).title),1)])),_:1}),k(p,{class:"desc"},{default:r((()=>[j(x(g(l).desc),1)])),_:1})])),_:1}),k(p,{class:"summary-avatar"},{default:r((()=>[k(f,{class:"tn-image",src:g(l).image,mode:"aspectFill"},null,8,["src"])])),_:1})])),_:1})])),_:1}),k(p,{id:g(t),class:"topic-list"},{default:r((()=>[(c(!0),u(m,null,d(g(s),((e,t)=>(c(),n(p,{key:t,class:"topic-item tn-shadow"},{default:r((()=>[k(G,{avatar:e.author.avatar,title:e.title,description:e.createTime,tags:e.tags,content:e.desc,images:e.images,"hot-count":e.hotCount,"comment-count":e.replyCount,"like-count":e.likeCount,"view-count":e.viewCount,"view-user-avatars":e.viewUsersAvatar},null,8,["avatar","title","description","tags","content","images","hot-count","comment-count","like-count","view-count","view-user-avatars"])])),_:2},1024)))),128))])),_:1},8,["id"])],64)}}}),[["__scopeId","data-v-bf2f0a8a"]]);export{J as default};
